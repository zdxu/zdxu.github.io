<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>今天又是老司机</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="static/css/style.css" />
    <link rel="stylesheet" type="text/css" href="dist/css/barrager.css">
    <link rel="stylesheet" type="text/css" href="static/pick-a-color/css/pick-a-color-1.2.3.min.css">
    <link type="text/css" rel="stylesheet" href="static/syntaxhighlighter/styles/shCoreDefault.css"/>
</head>
<body style="background-color: black">
    <div class="container-fluid">

        <div>
            <div class="progress">
                <div class="progress-bar progress-bar-warning progress-bar-striped" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
                    <span class="sr-only">60% Complete (warning)</span>
                </div>
            </div>
        </div>

    </div>
  
    <!-- JS dependencies -->
    <script type="text/javascript" src="static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="static/js/tinycolor-0.9.15.min.js"></script>  
    <script type="text/javascript" src="dist/js/jquery.barrager.min.js"></script>
    <script type="text/javascript" src="static/syntaxhighlighter/scripts/shCore.js"></script>
    <script type="text/javascript" src="static/syntaxhighlighter/scripts/shBrushJScript.js"></script>
    <script type="text/javascript" src="static/syntaxhighlighter/scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="static/pick-a-color/js/pick-a-color-1.2.3.min.js"></script>  
    <script type="text/javascript">

    var array = [
        "这里没有SQ", "未成年还是多读书吧", "你很色哦", "少看黄多读书",
        "淫贼", "哈哈哈", "渣子", "搞这样色",
        "哇哦，你进来拉", "可赤鸡, 哈哈哈", "2333"
    ]

    $(function() {

        var progress = 0;
        $(".progress").attr("style", "margin: " + window.screen.height/2 -20 + ", 20 ")

        var interval_count = 0;

        var interval_func = null;

        do_progress();

        function do_progress() {
            if (interval_count < 10) {
                interval_count = interval_count + 1;
                interval_func = setInterval(do_progress, 200);
                $(".progress").attr("aria-valuenow", interval_count*10);
            }else {
                clearInterval(interval_func)
            }
        }


        $(".pick-a-color").pickAColor();

        var item= {
            'img':'static/img/heisenberg.png',
            'href':'http://www.baidu.com',
            'info':"刺激, 哈哈哈"
        };
        $('.container-fluid').barrager(item);

         //每条弹幕发送间隔
        var looper_time=30;
        //是否首次执行
        var run_once=true;

        do_barager();
        function do_barager(){
            if(run_once ){
                run_once=false;
                setInterval(do_barager,looper_time);
            }

            var idx = Math.floor(Math.random()*array.length);
            var img = "static/img/0" + (Math.floor(Math.random()*6) + 1) + ".gif";

            var bottom = Math.floor(Math.random()*window.screen.height)
            if (bottom < 40) {
                bottom = 40
            }else if (bottom > window.screen.height - 40) {
                bottom = window.screen.height - 40;
            }

            var item= {
                'img':img,
                'href':'http://www.baidu.com',
                'info':array[idx],
                'bottom': bottom
            };
            $('.container-fluid').barrager(item);

        }
     
    });
    </script>
</body>
